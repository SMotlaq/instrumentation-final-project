(this.webpackJsonpsalman=this.webpackJsonpsalman||[]).push([[0],{103:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(17),l=a.n(o),i=(a(52),a(53),a(19)),c=a(7),s=a(11),u=a(12),d=a(15),h=a(16),m=a(106),p=a(107),g=a(42),f=a(108),v=a(109),E=a(20),_=a.n(E),y=function(){function e(){Object(s.a)(this,e)}return Object(u.a)(e,null,[{key:"getStatus",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.__defaultThenMethod,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.__defaultCatchMethod,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.__defaultFinallyMethod,r="password=dorosteaghaye";_.a.get("http://176.9.199.181:5000/"+"get_status2?".concat(r)).then(t).catch(a).then(n)}},{key:"setStatus",value:function(t,a,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.__defaultThenMethod,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:e.__defaultCatchMethod,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e.__defaultFinallyMethod,i="password=dorosteaghaye&action=reserve&address=".concat(a,"&user=").concat(t,"&value=").concat(n);_.a.post("http://176.9.199.181:5000/"+"parking_action?".concat(i)).then(r).catch(o).then(l)}},{key:"signup",value:function(t,a,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.__defaultThenMethod,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:e.__defaultCatchMethod,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e.__defaultFinallyMethod,i="password=dorosteaghaye&name=".concat(t,"&user_name=").concat(a,"&password_hashed=").concat(n);_.a.post("http://176.9.199.181:5000/"+"addUser?".concat(i)).then(r).catch(o).then(l)}},{key:"login",value:function(t,a,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.__defaultThenMethod,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:e.__defaultCatchMethod,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e.__defaultFinallyMethod,i="password=dorosteaghaye&name=".concat(t,"&user_name=").concat(a,"&password_hashed=").concat(n);_.a.post("http://176.9.199.181:5000/"+"login?".concat(i)).then(r).catch(o).then(l)}}]),e}();y.__defaultThenMethod=function(){},y.__defaultCatchMethod=function(){},y.__defaultFinallyMethod=function(){};var b=y,k=a(18),w=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).name="",n.username="",n.password="",n.state={redirect_to_reserve:!1,redirect_to_signup:!1},n}return Object(u.a)(a,[{key:"login",value:function(){var e=this;b.login(this.name,this.username,this.password,(function(){J.updateData({username:e.username,password:e.password}),e.setState({redirect:!0})}),(function(){k.b.error("Wrong username password")}))}},{key:"goToSignup",value:function(){this.setState({redirect_to_signup:!0})}},{key:"render",value:function(){var e=this;return this.state.redirect?r.a.createElement(c.a,{to:"/reserve"}):this.state.redirect_to_signup?r.a.createElement(c.a,{to:"/signup"}):r.a.createElement(m.a,null,r.a.createElement(p.a,null,r.a.createElement(g.a,null,r.a.createElement(f.a,{className:"text-white",style:{backgroundColor:"#282c34",marginTop:"60px"}},r.a.createElement(f.a.Group,{controlId:"formBasicEmail"},r.a.createElement(f.a.Label,null,"Username"),r.a.createElement(f.a.Control,{type:"username",placeholder:"Enter username",onChange:function(t){return e.username=t.target.value},required:!0})),r.a.createElement(f.a.Group,{controlId:"formBasicPassword"},r.a.createElement(f.a.Label,null,"Password"),r.a.createElement(f.a.Control,{type:"password",placeholder:"Password",onChange:function(t){return e.password=t.target.value},required:!0})),r.a.createElement(v.a,{variant:"primary",onClick:function(){return e.login()}},"Login"),r.a.createElement(v.a,{variant:"secondary",onClick:function(){return e.goToSignup()}},"Sign Up")))))}}]),a}(r.a.Component),S=a(43),C=a(21),j=a.n(C),O=a(26),M=a.n(O),D=a(45),x=a.n(D),I=a(27),U=a.n(I),F=0;function T(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"id";return"".concat(e).concat(++F)}var B=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={data:"",loading:!0,redirect:!1},n.p={"00":j.a,"01":M.a,10:U.a,11:x.a,22:j.a,21:M.a,12:U.a,"02":j.a,20:j.a},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.sigid=G.addUpdateSignal((function(t){e.setState({data:t,loading:!1})})),this.user=J.getData(),""===this.user&&this.setState({redirect:!0}),setInterval((function(){return G.forceUpdateAll()}),2e3)}},{key:"componentWillUnmount",value:function(){G.removeUpdateSignal(this.sigid)}},{key:"buttonEvent",value:function(e,t){var a=0===t?1:0;b.setStatus(this.user.username,e,a,(function(e){k.b.dark(e.data)}),(function(){k.b.error("You can't do that")})),setTimeout((function(){G.forceUpdateAll()}),500)}},{key:"getButton",value:function(e,t){var a=this;return 1===e?r.a.createElement("div",{key:T(),className:"col-3 align-middle text-center m-2 no-select"}):r.a.createElement("div",{key:T(),onClick:function(){return a.buttonEvent(t,e)},style:{backgroundColor:"rgba(255,225,0,0.5)",cursor:"pointer"},className:"col-3 align-middle text-center m-2 no-select display-3"},0===e?"\u0631\u0632\u0631\u0648":"\u0644\u063a\u0648")}},{key:"render",value:function(){return this.state.redirect?r.a.createElement(c.a,{to:"/login"}):r.a.createElement("div",{className:"d-flex justify-content-center mt-5 w-100"},this.state.loading?r.a.createElement(S.MoonLoader,{color:"yellow"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{fluid:!0},r.a.createElement(p.a,null,r.a.createElement("img",{className:"w-100 h-100",src:this.p[this.state.data]})),r.a.createElement(p.a,{style:{marginTop:"-14rem",height:"12rem",lineHeight:"12rem"},className:"justify-content-center"},this.getButton(Math.floor(this.state.data/10),1),this.getButton(Math.floor(this.state.data%10),2)))))}}]),a}(r.a.Component),N=a(46),L=0;var P=function(){function e(){Object(s.a)(this,e),this.data="",this.updateSignals={},this.dataSet=!1,this.needData=!1}return Object(u.a)(e,[{key:"getDataFromServer",value:function(){}},{key:"dataCheckInterval",value:function(){this.dataSet?clearInterval(this.timerId):this.getDataFromServer()}},{key:"addUpdateSignal",value:function(e){var t=this,a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"id";return"".concat(e).concat(++L)}();return this.updateSignals[a]=e,this.needData||(this.needData=!0,this.getDataFromServer(),this.timerId=setInterval((function(){return t.dataCheckInterval()}),5e3)),this.dataSet&&this.__signal(e),a}},{key:"removeUpdateSignal",value:function(e){"undefined"!==typeof this.updateSignals[e]&&delete this.updateSignals[e]}},{key:"__signal",value:function(e){e(this.data)}},{key:"signalAll",value:function(){for(var e=0,t=Object.entries(this.updateSignals);e<t.length;e++){var a=Object(N.a)(t[e],2)[1];this.__signal(a)}}},{key:"forceUpdateAll",value:function(){this.getDataFromServer()}},{key:"updateData",value:function(e){this.data=e,this.dataSet=!0,this.signalAll()}},{key:"getData",value:function(){return this.data}}]),e}(),q=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"getDataFromServer",value:function(){var e=this;b.getStatus((function(t){return e.updateData(t.data)}))}}]),a}(P),A=(a(102),function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).name="",n.username="",n.password="",n.state={redirect_to_reserve:!1},n}return Object(u.a)(a,[{key:"signup",value:function(){b.signup(this.name,this.username,this.password),J.updateData({username:this.username,password:this.password}),this.setState({redirect_to_reserve:!0})}},{key:"render",value:function(){var e=this;return this.state.redirect_to_reserve?r.a.createElement(c.a,{to:"/reserve"}):r.a.createElement(m.a,null,r.a.createElement(p.a,null,r.a.createElement(g.a,null,r.a.createElement(f.a,{className:"text-white",style:{backgroundColor:"#282c34",marginTop:"60px"}},r.a.createElement(f.a.Group,{controlId:"formBasicEmail"},r.a.createElement(f.a.Label,null,"Name"),r.a.createElement(f.a.Control,{type:"text",placeholder:"Enter name",onChange:function(t){return e.name=t.target.value},required:!0})),r.a.createElement(f.a.Group,{controlId:"formBasicEmail"},r.a.createElement(f.a.Label,null,"Username"),r.a.createElement(f.a.Control,{type:"username",placeholder:"Enter username",onChange:function(t){return e.username=t.target.value},required:!0})),r.a.createElement(f.a.Group,{controlId:"formBasicPassword"},r.a.createElement(f.a.Label,null,"Password"),r.a.createElement(f.a.Control,{type:"password",placeholder:"Password",onChange:function(t){return e.password=t.target.value},required:!0})),r.a.createElement(v.a,{variant:"primary",onClick:function(){return e.signup()}},"Sign Up")))))}}]),a}(r.a.Component));var G=new q,J=new P,W=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,null,r.a.createElement(c.d,null,r.a.createElement(c.b,{exact:!0,path:"/",component:w}),r.a.createElement(c.b,{path:"/login",component:w}),r.a.createElement(c.b,{path:"/reserve",component:B}),r.a.createElement(c.b,{path:"/signup",component:A}))),r.a.createElement(k.a,{autoClose:5e3,draggable:!0,closeOnClick:!0,rtl:!0}))};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(W,null)),document.getElementById("root"))},21:function(e,t,a){e.exports=a.p+"static/media/00.9e26b5a5.png"},26:function(e,t,a){e.exports=a.p+"static/media/01.0cd388b6.png"},27:function(e,t,a){e.exports=a.p+"static/media/10.b9587496.png"},45:function(e,t,a){e.exports=a.p+"static/media/11.42bf516d.png"},47:function(e,t,a){e.exports=a(103)},52:function(e,t,a){},53:function(e,t,a){}},[[47,1,2]]]);
//# sourceMappingURL=main.34298178.chunk.js.map